Some update

Some changes from ckraken